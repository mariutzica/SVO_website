<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/stylesheet.css">
</head>

<body>
  <header id="navigation">
    <a href="index.html"><img id="logo" src="pics/svo_logo.png" alt="logo"></a>
    <nav>
      <ul id="menu">
        <li class="menu-heading"><a href="documentation.html">Documentation</a></li>
        <hr>
        <li class="menu-heading menu-highlight"><a href="tutorial_create_variable_manually.html">Tutorial</a></li>
        <hr>
        <li class="menu-heading"><a href="faq.html">FAQ</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <h1>Tutorial: Create a New Variable Representation Manually</h1>

    <section id="objective">
      <h2>Objective</h2>

      <p>The purpose of this tutorial is to review the steps to manually create a machine-readable scientific variable representation following the principles of the Scientific Variables Ontology (SVO).</p>

      <p>A natural language scientific variable description can be converted to machine-readable form if it is unpacked one layer at a time, starting at the highest level of granularity&mdash;the entire variable&mdash;and working down to decomposing individual phenomena. The level to which information needs to be unpacked is discretionary, but can be informed by concepts found in existing ontologies.</p>

      <p>This document is intended to guide you in creating variable representations manually. It is not a technical specification for SVO. SVO is being continually developed to help automate as much of this process as possible, but it is helpful to understand the basics of the SVO design patterns and how they are applied in order to verify the results yielded by the automation tools.</p>
    </section>

    <section id="instructions">
      <h2>Instructions for Creating a Variable Representation</h2>

      <p>The steps to creating a new variable are:</p>

      <ol>
        <li>Select a concise description for a scientific variable.</li>
        <li>Decompose the variable description to identify the primary entities present: the recorded Phenomenon, the corresponding recorded Property, and if applicable, the Reference for the recorded Property.</li>
        <img class="main-image" src="pics/documentation/dp_scientific_variable.png" alt="diagram showing how variable is decomposed into phenomenon, property, and reference">
        <li>Decompose the recorded Phenomenon into distinct component phenomena, processes (if present), and the relationships that combine these phenomena and processes together to create the overall recorded Phenomenon.
          <ol>
            <li>Identify the distinct component phenomena in the description.</li>
            <li>Identify the primary Phenomena of interest that correspond to directly assessed values of the recorded Property. Identify the roles of these primary phenomena with respect to the Property.</li>
            <li>For Phenomena at the same level of granularity, identify groupings of phenomena that are linked through a process and use the Participant design pattern to create a compound Phenomenon.</li>
            <li>Working up from individual Phenomena, combine phenomena at different granularity levels by utilizing the Context design pattern to express how phenomena are spatiotemporally linked to each other.</li>
          </ol>
          <img class="main-image" src="pics/tutorial/decompose_dynamic_phenomenon.png" alt="diagram showing how phenomenon is decomposed into participants with participant and variable roles and processes">
        <li>Decompose the recorded Property:</li>
        <ul>
          <li>Identify any applied transformations and operations, including aggregations.</li>
          <li>Identify component Properties that are combined through mathematical operations to create the Property of interest.</li>
          <li>Identify the PropertyType and Dimensions if applicable.</li>
          <li>Identify any associated Abstraction and Property Role.</li>
        </ul>
        <img class="main-image" src="pics/documentation/dp_property.png" alt="diagram showing how property is decomposed into operations/transformations, component properties, property types, property roles, and dimensions">
        <li>Decompose the Reference:</li>
        <ul>
          <li>Identify the reference Phenomenon.</li>
          <li>Identify the reference Property.</li>
          <li>Identify the reference Value.</li>
          <li>Identify the reference Relationship.</li>
        </ul>
        <img class="main-image" src="pics/documentation/dp_reference.png" alt="diagram showing how reference is decomposed into phenomenon, property, value, and reference relationship">
        <li>Decompose all identified Phenomena by attributes and into component Phenomena as desired.</li>
        <img class="main-image" src="pics/tutorial/decompose_phenomenon.png" alt="diagram showing how phenomenon is generically decomposed into context, anstraction, and attributes">
        <img class="main-image" src="pics/documentation/dp_static_phenomenon.png" alt="diagram showing pre-defined phenomenon attributes">
      </ol>
      <p>To illustrate the process, we will use examples from the <a href="https://www.waterqualitydata.us/public_srsnames/" target="_blank">Public SRS Names list (NWIS)</a> and the <a href="http://cfconventions.org/Data/cf-standard-names/78/build/cf-standard-name-table.html" target="_blank">CF Standard names</a>. Here are the variables we will represent:</p>

      <ol>
        <li>NWIS: <a href="#nwis_brachionus">brachionus concentration</a></li>
        <li>NWIS: <a href="#nwis_alkalinity">water alkalinity</a></li>
        <li>NWIS: <a href="#nwis_oil_slick">oil slick severity</a></li>
        <li>NWIS: <a href="#nwis_argon">dissolved argon</a></li>
        <li>NWIS: <a href="#nwis_pyridaben">pyridaben in biota</a></li>
        <li>NWIS: <a href="#nwis_solids">solids under 8 millimeters</a></li>
        <li>NWIS: <a href="#nwis_diazoxon">diazoxon in air</a></li>
        <li>NWIS: <a href="#nwis_groundwater">groundwater level</a></li>
        <li>NWIS: <a href="#nwis_salinity">water salinity</a></li>
        <li>NWIS: <a href="#nwis_molybdenum">molybdenum in wet atmospheric deposition</a></li>
        <li>NWIS: <a href="#nwis_depth">light attenuation</a></li>
        <li>NWIS: <a href="#nwis_absorption">absorption coefficient</a></li>
        <li>NWIS: <a href="#nwis_coliphage">somatic coliphage</a></li>
        <li>CF: <a href="#cf_optical_thickness">optical thickness</a></li>
        <li>CF: <a href="#cf_energy_content">thermal energy content of ice and snow</a></li>
        <li>CF: <a href="#cf_radiative_flux">radiative flux</a></li>
        <li>CF: <a href="#cf_concentration">carbonate concentration</a></li>
        <li>CF: <a href="#cf_streamfunction">mass streamfunction</a></li>
        <li>CF: <a href="#cf_nitrogen_flux">nitrogen flux</a></li>
        <li>CF: <a href="#cf_air_temp">air temperature</a></li>
      </ol>
    </section>

    <section id="examples">
        <h2>Examples</h2>

        <section id="nwis_examples">
          <h3>NWIS Examples</h3>
          <section class="example" id="nwis_brachionus">
            <h4 class="example-title">brachionus concentration</h4>
            <p>For this example, we will represent NWIS Parameter 92087 in machine-readable SVO form.</p>
            <ol>
              <li>The variable description is "BRACHIONUS (4) USGS,ACL-77" and the units provided are #/ml.</li>
              <img class="example-image" src="pics/tutorial/examples/brachionus/brachionus_step1.png" alt="define variable brachionus">
              <li>Decomposing the variable into its primary elements yields the recorded Phenomenon <a href="https://en.wikipedia.org/wiki/Brachionus" target="_blank">Brachionus</a>, a genus of planktonic rotifers, a type of <a href="https://en.wikipedia.org/wiki/Organism" target="_blank">organism</a> and the recorded Property count concentration, derived from the units provided. The recorded Property indicates that there is an implied Phenomenon, likely water, which is the medium quantified by the volume in the denominator of the Property.</li>
              <img class="example-image" src="pics/tutorial/examples/brachionus/brachionus_step2.png" alt="decompose variable brachionus">
              <li>Based on the provided Property, we identify the roles of numerator for the Phenomenon organism and denominator (and medium) for the Phenomenon water.</li>
              <img class="example-image" src="pics/tutorial/examples/brachionus/brachionus_step3.png" alt="identify participants brachionus">
              <li>The Property count concentration is sufficiently decomposed.</li>
              <li>There is no Reference for the measurement.</li>
              <li>We can further atomize the Phenomenon "Brachionus organism" by identifying the attributes genus (Brachionus) and Form (organism).</li>
              <img class="example-image" src="pics/tutorial/examples/brachionus/brachionus_step4.png" alt="decompose phenomenon brachionus organisms">
            </ol>

            <p>Putting the whole variable representation expansion together yields:</p>
            <img class="example-image" src="pics/tutorial/examples/brachionus/brachionus_final.png" alt="final representation of variable brachionus">
          </section>

          <section class="example" id="nwis_alkalinity">
            <h4 class="example-title">water alkalinity</h4>
            <p>For this example, we will represent NWIS Parameter 00418 in machine-readable SVO form.</p>
            <p> Coming soon! </p>
            <!--
            <ol>
              <li>The variable description is "Alkalinity, water, filtered, fixed endpoint (pH 4.5) titration, laboratory, milligrams per liter as calcium carbonate."</li>
              <li>First, we identify the recorded Phenomenon and Property. The property is <a href="https://en.wikipedia.org/wiki/Alkalinity">alkalinity</a>, the capacity of water to resist acidification; it is expressed as mass per volume and obtained by fixed endpoint titration. The measurement of alkalinity corresponds to the amount of calcium carbonate you would need to create . The recorded phenomenon is thus the titrant added to the filtered water.</li>
            </ol>
            <p>We are then left with the following entity terms: alkalinity, water, filtered, calcium carbonate. The water is the solvent (medium) whose alkalinity is being measured, while the calcium carbonate is the solute. Filtered describes an attribute of the water. Therefore, we have the following variable components:</p>

            <ul>
              <li>Phenomenon: calcium carbonate</li>
              <ul>
                <li>Role: numerator, main;</li>
              </ul>
              <li>Phenomenon: water</li>
              <ul>
                <li>Role: denominator, medium;</li>
                <li>Attribute: _=filtered;</li>
              </ul>
              <li>Property: mass concentration alkalinity;</li>
            </ul>

            <p>After creating the three entities identified and linking them together to their Roles and Attributes, we obtain the following raw variable representation:</p>

            <em>Insert diagram here</em> -->
          </section>
          <section class="example" id="nwis_oil_slick">
            <h4 class="example-title">oil slick severity</h4>
            <p> Coming soon! </p>
            <!-- <p>Parameter 84177 has the description "Oil slick coverage (severity) on shore within 25 ft of bed sediment sample collection, code". The entities present in this description are "oil slick coverage (severity)", shore, and "bed sediment sample collection", and the relationships are 'on' and 'within 25 ft'. The first entity can be separated out into a primary phenomenon of interest, the oil slick, and its property, the coverage, which indicates its severity. The shore is the location of the oil slick. Furthermore, the oil slick severity was assessed 25 ft from where a bed sediment sample was collected. Therefore, we have the following variable components:</p>

            <ul>
              <li>Phenomenon: oil slick</li>
              <ul>
                <li>Role: numerator, main;</li>
              </ul>
              <li>Phenomenon: shore</li>
              <ul>
                <li>Role: context;</li>
                <li>Relationship: on;</li>
              </ul>
              <li>Phenomenon: bed sediment sample collection</li>
              <ul>
                <li>Role: context, Relationship: within 25 ft (spatial);</li>
                <li>Phenomenon=bed sediment sample;</li>
                  <ul>
                    <li>Phenomenon: bed;</li>
                    <ul>
                      <li>Role: context, Relationship: on;</li>
                    </ul>
                    <li>Attribute: matter=sediment; form=sample;</li>
                  </ul>
                <li>Process=collection;</li>
              </ul>
              <li>Property: severity code as coverage;</li>
            </ul>

            <p>After creating the three entities identified and linking them together to their Roles, Relationships, and Attributes, we obtain the following raw variable representation:</p>

            <em>Insert diagram here</em> -->

          </section>
          <section class="example" id="nwis_argon">
            <h4 class="example-title">dissolved argon</h4>
            <p> Coming soon! </p>
            <!-- <p>Parameter 85563 has the description "Argon, water, dissolved, cubic centimeters per gram at standard temperature and pressure". The unit provided is "cubic centimeters per gram", which indicates a volume per mass concentration. The entities present are: argon, water, dissolved, and "standard temperature and pressure". In this case, argon is the dissolved species, thus the numerator in the property provided, water is the solvent, or medium, and dissolved is the state of the argon within the water (combined system). Lastly, standard temperature and pressure refers to the values of the temperature and pressure of the air. Therefore, we have the following variable components:</p>

            <ul>
              <li>Phenomenon: argon dissolved in water</li>
              <ul>
                <li>Phenomenon: argon</li>
                <ul>
                  <li>Role: numerator, main;</li>
                </ul>
                <li>Phenomenon: water</li>
                <ul>
                  <li>Role: denominator, medium;</li>
                </ul>
                <li>Attribute: dissolved (??? draw representation, not sure how to write this out in list form...);</li>
              </ul>
              <li>Phenomenon: air at standard temperature and pressure</li>
              <ul>
                <li>Role: context, Relationship: surrounded by (spatial);</li>
                <li>Attribute: temperature=standard value; pressure=standard value;</li>
              </ul>
              <li>Property: volume per mass cf_concentration;</li>
            </ul> -->

          </section>
          <section class="example" id="nwis_pyridaben">
            <h4 class="example-title">pyridaben in biota</h4>
            <p>Pyridaben, biota, tissue, recoverable, dry weight, micrograms per kilogram</p>
            <p> Coming soon! </p>
          </section>
          <section class="example" id="nwis_solids">
            <h4 class="example-title">solids under 8 millimeters</h4>
            <p>Solids, percent smaller than 8 millimeters</p>
            <p> Coming soon! </p>
          </section>
          <section class="example" id="nwis_diazoxon">
            <h4 class="example-title">diazoxon in air</h4>
            <p>Diazoxon, air, sum of particulate filter plus top and bottom sorbent traps, recoverable, nanograms per cubic meter</p>
            <p> Coming soon! </p>
          </section>
          <section class="example" id="nwis_groundwater">
            <h4 class="example-title">groundwater level</h4>
            <p>Groundwater level above Guam Vertical Datum of 2004, meters</p>
            <p> Coming soon! </p>
          </section>
          <section class="example" id="nwis_salinity">
            <h4 class="example-title">water salinity</h4>
            <p>Salinity, water, in situ, tidally filtered, practical salinity units at 25 degrees Celsius</p>
            <p> Coming soon! </p>
          </section>
          <section class="example" id="nwis_molybdenum">
            <h4 class="example-title">molybdenum in wet atmospheric deposition</h4>
            <p>Molybdenum, wet atmospheric deposition, unfiltered, micrograms per liter</p>
            <p> Coming soon! </p>
          </section>
          <section class="example" id="nwis_depth">
            <h4 class="example-title">light attenuation</h4>
            <p>Depth to 1 percent of surface light, meters</p>
            <p> Coming soon! </p>
          </section>
          <section class="example" id="nwis_absorption">
            <h4 class="example-title">absorption coefficient</h4>
            <p>Absorption coefficient at 412 nm for suspended solids, water, filtered (0.7 micron glass fiber filter), units per meter</p>
            <p> Coming soon! </p>
          </section>
          <section class="example" id="nwis_coliphage">
            <h4 class="example-title">somatic coliphage</h4>
            <p> Coming soon! </p>
          </section>
        </section>
        <section>
          <h3>CF Examples</h3>
          <section class="example" id="cf_optical_thickness">
            <h4 class="example-title">optical thickness</h4>
            <p>atmosphere_absorption_optical_thickness_due_to_particulate_organic_matter_ambient_aerosol_particles</p>
            <p>The optical thickness is the integral along the path of radiation of a volume scattering/absorption/attenuation coefficient. The radiative flux is reduced by a factor exp(-optical_thickness) on traversing the path. A coordinate variable of radiation_wavelength or radiation_frequency can be specified to indicate that the optical thickness applies at specific wavelengths or frequencies. "Absorption optical thickness" means that part of the atmosphere optical thickness that is caused by the absorption of incident radiation. "Aerosol" means the system of suspended liquid or solid particles in air (except cloud droplets) and their carrier gas, the air itself. "Ambient_aerosol" means that the aerosol is measured or modelled at the ambient state of pressure, temperature and relative humidity that exists in its immediate environment. "Ambient aerosol particles" are aerosol particles that have taken up ambient water through hygroscopic growth. The extent of hygroscopic growth depends on the relative humidity and the composition of the particles. To specify the relative humidity and temperature at which the quantity described by the standard name applies, provide scalar coordinate variables with standard names of "relative_humidity" and "air_temperature". The specification of a physical process by the phrase due_to_process means that the quantity named is a single term in a sum of terms which together compose the general quantity named by omitting the phrase.</p>

            <p> Coming soon! </p>
          </section>
          <section class="example" id="cf_energy_content">
            <h4 class="example-title">thermal energy content of ice and snow</h4>
            <p>change_over_time_in_thermal_energy_content_of_ice_and_snow_on_land</p>
            <p>The phrase "change_over_time_in_X" means change in a quantity X over a time-interval, which should be defined by the bounds of the time coordinate. Thermal energy is the total vibrational energy, kinetic and potential, of all the molecules and atoms in a substance. The phrase "ice_and_snow_on_land" means ice in glaciers, ice caps, ice sheets and shelves, river and lake ice, any other ice on a land surface, such as frozen flood water, and snow lying on such ice or on the land surface.</p>

            <p> Coming soon! </p>
          </section>
          <section class="example" id="cf_radiative_flux">
            <h4 class="example-title">radiative flux</h4>
            <p>fraction_of_surface_downwelling_photosynthetic_radiative_flux_absorbed_by_vegetation</p>
            <p>Downwelling radiation is radiation from above. It does not mean "net downward". The sign convention is that "upwelling" is positive upwards and "downwelling" is positive downwards. The surface called "surface" means the lower boundary of the atmosphere. The quantity with standard name fraction_of_surface_downwelling_photosynthetic_radiative_flux_absorbed_by_vegetation, often called Fraction of Absorbed Photosynthetically Active Radiation (FAPAR), is the fraction of incoming solar radiation in the photosynthetically active radiation spectral region that is absorbed by a vegetation canopy. "Photosynthetic" radiation is the part of the spectrum which is used in photosynthesis e.g. 400-700 nm. The range of wavelengths could be specified precisely by the bounds of a coordinate of "radiation_wavelength". When thought of as being incident on a surface, a radiative flux is sometimes called "irradiance". In addition, it is identical with the quantity measured by a cosine-collector light-meter and sometimes called "vector irradiance". In accordance with common usage in geophysical disciplines, "flux" implies per unit area, called "flux density" in physics. "Vegetation" means any plants e.g. trees, shrubs, grass. The term "plants" refers to the kingdom of plants in the modern classification which excludes fungi. Plants are autotrophs i.e. "producers" of biomass using carbon obtained from carbon dioxide.</p>

            <p> Coming soon! </p>
          </section>
          <section class="example" id="cf_concentration">
            <h4 class="example-title">carbonate concentration</h4>
            <p>mole_concentration_of_carbonate_expressed_as_carbon_at_equilibrium_with_pure_aragonite_in_sea_water</p>
            <p>Mole concentration means number of moles per unit volume, also called "molarity", and is used in the construction "mole_concentration_of_X_in_Y", where X is a material constituent of Y. A chemical or biological species denoted by X may be described by a single term such as "nitrogen" or a phrase such as "nox_expressed_as_nitrogen". The phrase "expressed_as" is used in the construction A_expressed_as_B, where B is a chemical constituent of A. It means that the quantity indicated by the standard name is calculated solely with respect to the B contained in A, neglecting all other chemical constituents of A. The chemical formula of the carbonate anion is CO3 with an electrical charge of minus two. Aragonite is a mineral that is a polymorph of calcium carbonate. The chemical formula of aragonite is CaCO3. At a given salinity, the thermodynamic equilibrium is that between dissolved carbonate ion and solid aragonite. Standard names also exist for calcite, another polymorph of calcium carbonate.</p>

            <p> Coming soon! </p>
          </section>
          <section class="example" id="cf_streamfunction">
            <h4 class="example-title">mass streamfunction</h4>
            <p>ocean_meridional_overturning_mass_streamfunction_due_to_parameterized_submesoscale_eddy_advection</p>
            <p>The specification of a physical process by the phrase due_to_process means that the quantity named is a single term in a sum of terms which together compose the general quantity named by omitting the phrase. Parameterized eddy advection in an ocean model means the part due to a scheme representing parameterized eddy-induced advective effects not included in the resolved model velocity field. Parameterized submesoscale eddy advection occurs on a spatial scale of the order of 1 km horizontally. Reference: James C. McWilliams 2016, Submesoscale currents in the ocean, Proceedings of the Royal Society A: Mathematical, Physical and Engineering Sciences, volume 472, issue 2189. DOI: 10.1098/rspa.2016.0117. There are also standard names for parameterized_mesoscale_eddy_advection which, along with parameterized_submesoscale_eddy_advection, contributes to the total parameterized eddy advection.</p>

            <p> Coming soon! </p>
          </section>
          <section class="example" id="cf_nitrogen_flux">
            <h4 class="example-title">nitrogen flux</h4>
            <p>surface_upward_mass_flux_of_nitrogen_compounds_expressed_as_nitrogen_due_to_all_land_processes_excluding_fires</p>
            <p>"Upward" indicates a vector component which is positive when directed upward (negative downward). In accordance with common usage in geophysical disciplines, "flux" implies per unit area, called "flux density" in physics. The phrase "expressed_as" is used in the construction A_expressed_as_B, where B is a chemical constituent of A. It means that the quantity indicated by the standard name is calculated solely with respect to the B contained in A, neglecting all other chemical constituents of A. "Nitrogen compounds" summarizes all chemical species containing nitrogen atoms. The list of individual species that are included in this quantity can vary between models. Where possible, the data variable should be accompanied by a complete description of the species represented, for example, by using a comment attribute. The specification of a physical process by the phrase "due_to_" process means that the quantity named is a single term in a sum of terms which together compose the general quantity named by omitting the phrase. "All land processes" means plant and soil respiration, photosynthesis, animal grazing, crop harvesting, natural fires and anthropogenic land use change.</p>
            <p>surface_upward_mass_flux_of_nitrogen_compounds_expressed_as_nitrogen_out_of_vegetation_and_litter_and_soil</p>
            <p>The surface called "surface" means the lower boundary of the atmosphere. "Upward" indicates a vector component which is positive when directed upward (negative downward). In accordance with common usage in geophysical disciplines, "flux" implies per unit area, called "flux density" in physics. The phrase "expressed_as" is used in the construction A_expressed_as_B, where B is a chemical constituent of A. It means that the quantity indicated by the standard name is calculated solely with respect to the B contained in A, neglecting all other chemical constituents of A. "Nitrogen compounds" summarizes all chemical species containing nitrogen atoms. The list of individual species that are included in this quantity can vary between models. Where possible, the data variable should be accompanied by a complete description of the species represented, for example, by using a comment attribute. "Vegetation" means any living plants e.g. trees, shrubs, grass. "Litter" is dead plant material in or above the soil.</p>

            <p> Coming soon! </p>
          </section>
          <section class="example" id="cf_air_temp">
            <h4 class="example-title">air temperature</h4>
            <p>tendency_of_air_temperature_due_to_longwave_heating_from_volcanic_ambient_aerosol_particles</p>
            <p>The phrase "tendency_of_X" means derivative of X with respect to time. Air temperature is the bulk temperature of the air, not the surface (skin) temperature. The specification of a physical process by the phrase "due_to_" process means that the quantity named is a single term in a sum of terms which together compose the general quantity named by omitting the phrase. The term "longwave" means longwave radiation. "Aerosol" means the system of suspended liquid or solid particles in air (except cloud droplets) and their carrier gas, the air itself. "Ambient_aerosol" means that the aerosol is measured or modelled at the ambient state of pressure, temperature and relative humidity that exists in its immediate environment. "Ambient aerosol particles" are aerosol particles that have taken up ambient water through hygroscopic growth. The extent of hygroscopic growth depends on the relative humidity and the composition of the particles. To specify the relative humidity and temperature at which the quantity described by the standard name applies, provide scalar coordinate variables with standard names of "relative_humidity" and "air_temperature". Volcanic aerosols include both volcanic ash and secondary products such as sulphate aerosols formed from gaseous emissions of volcanic eruptions.</p>

            <p> Coming soon! </p>
          </section>
        </section>
    </section>
  </main>

</body>
